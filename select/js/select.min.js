$.fn.select=function(e){let t=$(this).attr("id"),l=$(document);if(l.find(`.select-wrapper-${t}`).length>0)throw Error(`Select already initialized on #${t} 
 If you want to reinitialize select, please use .destroy() method`);let s=!!$(this).attr("multiple"),r="",p={search:e?.search||!1,data:e?.data||[],selected:e?.selected||"",allowClear:e?.allowClear||!1,cls:{container:e?.cls&&e?.cls.container?e?.cls.container:"",search:e?.cls&&e?.cls.search?e?.cls.search:"",searchInput:e?.cls&&e?.cls.searchInput?e?.cls.searchInput:"",option:e?.cls&&e?.cls.option?e?.cls.option:"",optionHover:e?.cls&&e?.cls.optionHover?e?.cls.optionHover:"",optionSelected:e?.cls&&e?.cls.optionSelected?e?.cls.optionSelected:""},noResult:e?.noResult||"No options found"},a=$(this),o=[],c="",n=!1,i=e=>e===p.selected,d=(e,t)=>$(`<div class="select-wrapper__option ${p.cls.option}" data-value="${e}" value="${e}">${t}</div>`)[0];p.data.length>0?p.data.forEach(e=>{o.push(d(e.value,e.text))}):a.find("option").each(function(){$(this).attr("value")&&o.push(d($(this).attr("value"),$(this).text()))}),a.html(""),o.forEach(e=>{let t=$(`<option value="${$(e).attr("value")}">${$(e).text()}</option>`);a.append(t)});let w=()=>c||"select an option",h=()=>{$(".select-wrapper").removeClass("select-wrapper__opened"),$(".select-wrapper__dropdown").slideUp(200)};p.selected&&o.forEach(e=>{i($(e).attr("value"))&&(c=$(e).text(),a.val($(e).attr("value")),n=!0)}),c||(a.val(""),n=!1,c=a.attr("data-placeholder"));let u=$(`<div class="select-wrapper select-wrapper-${t} ${p.cls.container} ${s?"select-wrapper-multiple":""}" data-select="${t}"></div>`),f=$('<div class="select-wrapper__selected"></div>'),v=$('<div class="select-wrapper__selected-text-wrapper"></div>'),g=$(`<span class="select-wrapper__selected-text ${n?"":"select-wrapper__placeholder"}">${w()}</span>`),C,x=((C=$('<span class="select-wrapper__clear hide"></span>')).html('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="2" d="M7,7 L17,17 M7,17 L17,7"></path></svg>'),C),m,_=((m=$('<span class="select-wrapper__arrow"></span>')).html('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),m),k=$('<span class="select-wrapper__dropdown"></span>'),b=$('<div class="select-wrapper__dropdown-inner"></div>'),y=$(`<div class="select-wrapper__search-wrapper ${p.cls.search}"></div>`),L=$(`<input type="text" class="select-wrapper__search ${p.cls.searchInput}" placeholder="search">`),H=$('<div class="select-wrapper__options-wrapper"></div>'),S=$('<div class="select-wrapper__options"></div>');S.append(o);let M=$(`<div class="select-wrapper__option select-wrapper__no-result hide">${p.noResult}</div>`),I=(e,t)=>((r=$(`<span class="select-wrapper__selected-text select-wrapper__selected-text-multiple" data-value="${e}">
      <span>${t}</span><span class="select-wrapper__selected-text-multiple-clear"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="2" d="M7,7 L17,17 M7,17 L17,7"></path></svg></span>
      </span>`)).find(".select-wrapper__selected-text-multiple-clear").bind("click",function(){let e=$(this).parent().data("value"),t=S.find(`.select-wrapper__option[data-value="${e}"]`);t.removeClass("select-wrapper__option--selected"),t.show(),1==u.find(".select-wrapper__selected-text-multiple").length?(u.find(".select-wrapper__selected-text").addClass("select-wrapper__placeholder").removeClass("select-wrapper__selected-text-multiple").text(w()),x.addClass("hide")):$(this).parent().remove(),a.val(""),a.find(`option[value="${e}"]`).prop("selected",!1),a.trigger("change")}),r[0]);a.after(u),u.append(f),f.append(v),v.append(g),p.allowClear&&(f.append(x),a.val()&&n&&x.removeClass("hide")),f.append(_),u.append(k),k.append(b),p.search&&(y.append(L),b.append(y)),b.append(H),H.append(S),S.append(M),a.addClass("select-hidden");let O=()=>{h(),a.val(""),u.find(".select-wrapper__selected-text").text(w()).addClass("select-wrapper__placeholder"),u.find(".select-wrapper__option").removeClass("select-wrapper__option--selected"),u.find(".select-wrapper__option:not(.select-wrapper__no-result)").show(),L.val(""),x.addClass("hide")},z=()=>{u.toggleClass("select-wrapper__opened").find(".select-wrapper__dropdown").slideToggle(200)};return f.bind("click",function(e){if($(".select-wrapper__opened").find(".select-wrapper__selected").not($(this)).trigger("click"),$(e.target).hasClass("select-wrapper__clear")||$(e.target).closest(".select-wrapper__clear").length>0)return!1;s?u.find(".select-wrapper__placeholder").length>0?z():($(e.target).hasClass("select-wrapper__arrow")||$(e.target).closest(".select-wrapper__arrow").length>0)&&z():z()}),S.find(".select-wrapper__option").bind("click",function(){let e=$(this).data("value"),t=$(this).text();s?(1==u.find(".select-wrapper__selected-text-wrapper").length&&u.find(".select-wrapper__selected-text-wrapper").children().hasClass("select-wrapper__placeholder")&&u.find(".select-wrapper__selected-text-wrapper").empty(),$(this).hasClass("select-wrapper__option--selected")?($(this).removeClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),u.find(`.select-wrapper__selected-text[data-value=${e}]`).remove()):($(this).addClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),u.find(".select-wrapper__selected-text-wrapper").append(I(e,t)))):($(this).addClass(`select-wrapper__option--selected ${p.cls.optionSelected}`).siblings().removeClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),x.removeClass("hide"),a.val(e),u.toggleClass("select-wrapper__opened"),u.find(".select-wrapper__selected-text").text(t).removeClass("select-wrapper__placeholder"),u.find(".select-wrapper__dropdown").slideUp(200),u.find(".select-wrapper__option:not(.select-wrapper__no-result)").show(),L.val(""))}),x.bind("click",function(){O()}),S.find(".select-wrapper__option").bind("mouseover",function(){$(this).addClass(`select-wrapper__focused ${p.cls.optionHover}`).siblings().removeClass(`select-wrapper__focused ${p.cls.optionHover}`)}),L.bind("keyup",function(){let e=$(this).val().toLowerCase(),t=$(this).closest(".select-wrapper");if(""==e){t.find(".select-wrapper__option:not(.select-wrapper__no-result)").show();return}t.find(".select-wrapper__no-result").addClass("hide");t.find(".select-wrapper__option:not(.select-wrapper__no-result)").each(function(){$(this).text().toLowerCase().indexOf(e)>-1?$(this).show():$(this).hide()}),0==t.find(".select-wrapper__option:not(.select-wrapper__no-result):visible").length?t.find(".select-wrapper__no-result").removeClass("hide"):t.find(".select-wrapper__no-result").addClass("hide")}),l.bind("scroll",function(){h()}),l.bind("keydown",function(e){27==e.keyCode&&h();let t=!1;if(38==e.keyCode||40==e.keyCode){40==e.keyCode&&(t=!0);let l=$(".select-wrapper__opened"),s=l.find(".select-wrapper__option:visible:not(.select-wrapper__no-result)"),r=l.find(".select-wrapper__focused"),p=s.index(r);38==e.keyCode?p--:p++,p<0&&(p=s.length-1),p>s.length-1&&(p=0),s.eq(p).addClass("select-wrapper__focused").siblings().removeClass("select-wrapper__focused");let a=H.offset().top,o=s.eq(p).offset().top;t&&(a+=H.outerHeight(),o+=s.eq(p).outerHeight());let c=H.scrollTop()+(o-a);H.scrollTop(c)}13==e.keyCode&&$(".select-wrapper__opened").find(".select-wrapper__focused").trigger("click")}),{close:h,open:function(){f.trigger("click")},getValue:function(){if(!s)return a.val();{let e=[];return u.find(".select-wrapper__selected-text:not(.select-wrapper__placeholder)").each(function(){e.push($(this).data("value"))}),e}},setValue:function(e){let t=S.find(`.select-wrapper__option[data-value="${e}"]`);t.length>0&&t.trigger("click")},getText:function(){if(s){let e=[];return u.find(".select-wrapper__selected-text:not(.select-wrapper__placeholder)").each(function(){e.push($(this).text())}),e}if(!g.hasClass("select-wrapper__placeholder"))return g.text()},getOptions:function(){return S.find(".select-wrapper__option")},getOptionsList:function(){let e=[];return S.find(".select-wrapper__option:not(.select-wrapper__no-result)").each(function(){let t={value:$(this).data("value"),text:$(this).text()};e.push(t)}),e},destroy:function(){u.remove(),a.removeClass("select-hidden")},addOption:function(e){let t=`<div class="select-wrapper__option" data-value="${e.value}">${e.text}</div>`;S.append(t)},removeOption:function(e){S.find(`.select-wrapper__option[data-value="${e}"]`).remove()},disable:function(){u.addClass("select-wrapper--disabled"),a.prop("disabled",!0)},enable:function(){u.removeClass("select-wrapper--disabled"),a.prop("disabled",!1)},reset:function(){O()}}};