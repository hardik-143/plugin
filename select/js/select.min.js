$.fn.select=function(e){let t=$(this).attr("id"),s=$(document),l=!!$(this).attr("multiple"),r="";if(s.find(`.select-wrapper-${t}`).length>0)throw Error(`Select already initialized on #${t} 
 If you want to reinitialize select, please use .destroy() method`);if(0==s.find(`#${t}`).length)throw Error(`select element not found with #${t} 
 Please check the select id and try again`);let p={search:e?.search||!1,selectedValue:"",selectedDisplay:"",allowClear:e?.allowClear||!1,cls:{container:e?.cls&&e?.cls.container?e?.cls.container:"",search:e?.cls&&e?.cls.search?e?.cls.search:"",searchInput:e?.cls&&e?.cls.searchInput?e?.cls.searchInput:"",option:e?.cls&&e?.cls.option?e?.cls.option:"",optionHover:e?.cls&&e?.cls.optionHover?e?.cls.optionHover:"",optionSelected:e?.cls&&e?.cls.optionSelected?e?.cls.optionSelected:""},noResult:e?.noResult||"No options found"},a=$(this),c=[],o="",d=!1,n=(e,t)=>$(`<div class="select-wrapper__option ${p?.cls?.option}" data-value="${e}" value="${e}">${t}</div>`)[0];a.find("option").each(function(){$(this).attr("selected")&&!l&&(p.selectedValue=$(this).attr("value"),p.selectedDisplay=$(this).text()),$(this).attr("value")&&c.push(n($(this).attr("value"),$(this).text()))}),p.selectedValue&&c.forEach(e=>{$(e).attr("value")===p.selectedValue&&$(e).addClass(`${p.cls.optionSelected} select-wrapper__option--selected`)});let i=()=>p.selectedValue?p.selectedDisplay:o||"select an option",w;p.selectedValue?(a.val(p.selectedValue),d=!1):(a.val(""),d=!0),(w=a.attr("data-placeholder"))&&(o=w);let h=()=>{$(".select-wrapper").removeClass("select-wrapper__opened"),$(".select-wrapper__dropdown").slideUp(200)},u=e=>{$(".select-wrapper").each(function(){$(this).closest(".select-wrapper").data("select")!==e.closest(".select-wrapper").data("select")&&($(this).removeClass("select-wrapper__opened"),$(this).find(".select-wrapper__dropdown").slideUp(200))})},v=$(`<div class="select-wrapper select-wrapper-${t} ${p.cls.container} ${l?"select-wrapper-multiple":""}" data-select="${t}"></div>`),f=$('<div class="select-wrapper__selected"></div>'),C=$('<div class="select-wrapper__selected-text-wrapper"></div>'),g=$(`<span class="select-wrapper__selected-text ${d?"select-wrapper__placeholder":""}">${i()}</span>`),m=$('<div class="select-wrapper__button"></div>'),x,_=((x=$('<span class="select-wrapper__clear hide"></span>')).html('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="2" d="M7,7 L17,17 M7,17 L17,7"></path></svg>'),x),k,y=((k=$('<span class="select-wrapper__arrow"></span>')).html('<svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0V0z"></path><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"></path></svg>'),k),b=$('<span class="select-wrapper__dropdown"></span>'),S=$('<div class="select-wrapper__dropdown-inner"></div>'),V=$(`<div class="select-wrapper__search-wrapper ${p.cls.search}"></div>`),H=$(`<input type="text" class="select-wrapper__search ${p.cls.searchInput}" placeholder="search">`),L=$('<div class="select-wrapper__options-wrapper"></div>'),M=$('<div class="select-wrapper__options"></div>');M.append(c);let I=$(`<div class="select-wrapper__option select-wrapper__no-result hide">${p.noResult}</div>`),z=(e,t)=>((r=$(`<span class="select-wrapper__selected-text select-wrapper__selected-text-multiple" data-value="${e}">
      <span>${t}</span><span class="select-wrapper__selected-text-multiple-clear"><svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" stroke="#000" stroke-width="2" d="M7,7 L17,17 M7,17 L17,7"></path></svg></span>
      </span>`)).find(".select-wrapper__selected-text-multiple-clear").bind("click",function(){let e=$(this).parent().data("value"),t=M.find(`.select-wrapper__option[data-value="${e}"]`);t.removeClass("select-wrapper__option--selected"),t.show(),1==v.find(".select-wrapper__selected-text-multiple:not(.select-wrapper__placeholder)").length?(v.find(".select-wrapper__selected-text").addClass("select-wrapper__placeholder").removeClass("select-wrapper__selected-text-multiple").text(i()),_.addClass("hide")):$(this).parent().remove(),a.find(`option[value="${e}"]`).prop("selected",!1),a.trigger("change")}),r[0]);a.after(v),v.append(f),f.append(C),C.append(g),f.append(m),p.allowClear&&(m.append(_),l?a.val().length&&_.removeClass("hide"):a.val()&&_.removeClass("hide")),m.append(y),v.append(b),b.append(S),p.search&&(V.append(H),S.append(V)),S.append(L),L.append(M),M.append(I),a.addClass("select-hidden");let D=()=>{h(),a.val(""),p.selectedDisplay="",p.selectedValue="",v.find(".select-wrapper__selected-text").text(i()).addClass("select-wrapper__placeholder"),v.find(".select-wrapper__option").removeClass("select-wrapper__option--selected"),v.find(".select-wrapper__option:not(.select-wrapper__no-result)").show(),H.val(""),_.addClass("hide")},q=()=>{v.toggleClass("select-wrapper__opened").find(".select-wrapper__dropdown").slideToggle(200)};f.bind("click",function(e){if(u(v),$(e.target).hasClass("select-wrapper__clear")||$(e.target).closest(".select-wrapper__clear").length>0)return!1;l?($(e.target).hasClass("select-wrapper__placeholder")||$(e.target).closest(".select-wrapper__placeholder").length>0||$(e.target).hasClass("select-wrapper__arrow")||$(e.target).closest(".select-wrapper__arrow").length>0||$(e.target).hasClass("select-wrapper__selected-text-wrapper"))&&q():q()});let B=()=>{let e=[];M.find(".select-wrapper__option").each(function(){$(this).hasClass("select-wrapper__option--selected")&&e.push($(this).data("value"))}),a.val(e),a.trigger("change")};return M.find(".select-wrapper__option").bind("click",function(){let e=$(this).data("value"),t=$(this).text();l?(1==v.find(".select-wrapper__selected-text-wrapper .select-wrapper__placeholder").length&&v.find(".select-wrapper__selected-text-wrapper").empty(),$(this).hasClass("select-wrapper__option--selected")?($(this).removeClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),1==v.find(".select-wrapper__selected-text").length?(v.find(".select-wrapper__selected-text").text(i()).addClass("select-wrapper__placeholder").removeClass("select-wrapper__selected-text-multiple"),_.addClass("hide")):v.find(`.select-wrapper__selected-text[data-value=${e}]`).remove()):($(this).addClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),v.find(".select-wrapper__selected-text-wrapper").append(z(e,t))),h(),v.find(".select-wrapper__selected-text:not(.select-wrapper__placeholder)").length>0&&_.removeClass("hide"),B()):($(this).addClass(`select-wrapper__option--selected ${p.cls.optionSelected}`).siblings().removeClass(`select-wrapper__option--selected ${p.cls.optionSelected}`),_.removeClass("hide"),a.val(e),v.toggleClass("select-wrapper__opened"),v.find(".select-wrapper__selected-text").text(t).removeClass("select-wrapper__placeholder"),v.find(".select-wrapper__dropdown").slideUp(200),v.find(".select-wrapper__option:not(.select-wrapper__no-result)").show(),H.val(""))}),_.bind("click",function(){D(),l&&(v.find(".select-wrapper__selected-text").not(":first").remove(),v.find(".select-wrapper__selected-text").addClass("select-wrapper__placeholder").removeClass("select-wrapper__selected-text-multiple").text(i()),_.addClass("hide"))}),M.find(".select-wrapper__option").bind("mouseover",function(){$(this).addClass(`select-wrapper__focused ${p.cls.optionHover}`).siblings().removeClass(`select-wrapper__focused ${p.cls.optionHover}`)}),H.bind("keyup",function(){let e=$(this).val().toLowerCase(),t=$(this).closest(".select-wrapper");if(""==e){t.find(".select-wrapper__option:not(.select-wrapper__no-result)").show();return}t.find(".select-wrapper__no-result").addClass("hide");t.find(".select-wrapper__option:not(.select-wrapper__no-result)").each(function(){$(this).text().toLowerCase().indexOf(e)>-1?$(this).show():$(this).hide()}),0==t.find(".select-wrapper__option:not(.select-wrapper__no-result):visible").length?t.find(".select-wrapper__no-result").removeClass("hide"):t.find(".select-wrapper__no-result").addClass("hide")}),s.bind("scroll",function(){h()}),s.bind("keydown",function(e){27==e.keyCode&&h();let t=!1;if($(".select-wrapper__opened").length>0&&(38==e.keyCode||40==e.keyCode)){40==e.keyCode&&(t=!0);let s=v.parent().find(".select-wrapper__opened"),l=s.find(".select-wrapper__option:visible:not(.select-wrapper__no-result)"),r=s.find(".select-wrapper__focused"),p=l.index(r);38==e.keyCode?p--:p++,p<0&&(p=l.length-1),p>l.length-1&&(p=0),l.eq(p).addClass("select-wrapper__focused").siblings().removeClass("select-wrapper__focused");let a=L.offset()?.top,c=l.eq(p).offset()?.top;t&&(a+=L.outerHeight(),c+=l.eq(p).outerHeight());let o=L.scrollTop()+(c-a);L.scrollTop(o)}13==e.keyCode&&$(".select-wrapper__opened").find(".select-wrapper__focused").trigger("click")}),{}};